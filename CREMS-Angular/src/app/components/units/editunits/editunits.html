<!-- Unit Details Card -->
<div class="card">
  <!-- Card Header -->
  <div class="row card-header flex-column flex-md-row border-bottom mx-0 px-3">
    <div class="col-md-auto me-auto d-md-flex align-items-center">
      <h5 class="card-title mb-0 text-md-start text-center">Edit Unit</h5>
    </div>
    <div class="col-md-auto d-flex justify-content-end align-items-center">
      <button type="button" class="btn btn-primary" onclick="history.back()">
        <i class="fa-solid fa-arrow-left mx-1"></i>Return
      </button>
    </div>
  </div>

  <div class="card-body my-5">
    <form (ngSubmit)="updateUnit()" #unitForm="ngForm">
      <!-- Unit Number -->
      <div class="mb-3">
        <label for="unitNumber" class="form-label">Unit Number</label>
        <input
          type="text"
          id="unitNumber"
          class="form-control"
          name="unitNumber"
          [(ngModel)]="unit.unitNumber"
          required
        />
      </div>

      <!-- Area -->
      <div class="mb-3">
        <label for="area" class="form-label">Area (sqft)</label>
        <input
          type="number"
          id="area"
          class="form-control"
          name="area"
          [(ngModel)]="unit.area"
          required
        />
      </div>

      <!-- Bedrooms -->
      <div class="mb-3">
        <label for="bedrooms" class="form-label">Bedrooms</label>
        <input
          type="number"
          id="bedrooms"
          class="form-control"
          name="bedrooms"
          [(ngModel)]="unit.bedrooms"
          required
        />
      </div>

      <!-- Bathrooms -->
      <div class="mb-3">
        <label for="bathrooms" class="form-label">Bathrooms</label>
        <input
          type="number"
          id="bathrooms"
          class="form-control"
          name="bathrooms"
          [(ngModel)]="unit.bathrooms"
          required
        />
      </div>

      <!-- Booking Status -->
      <div class="mb-4">
        <label class="form-label">Booking Status</label>
        <select class="form-select" name="isBooked" [(ngModel)]="unit.isBooked" required>
          <option [ngValue]="false">Available</option>
          <option [ngValue]="true">Booked</option>
        </select>
      </div>

      <!-- Customer -->
      <div class="mb-4">
        <label for="customerId" class="form-label">Customer</label>
        <select
          id="customerId"
          class="form-select"
          name="customerId"
          [(ngModel)]="unit.customerId"
          required
        >
          <option [ngValue]="null">-- No Customer --</option>
          <option *ngFor="let customer of customers" [ngValue]="customer.id">
            {{ customer.name }}
          </option>
        </select>
      </div>

      <!-- Price -->
      <div class="mb-5">
        <label for="price" class="form-label">Price</label>
        <input
          type="number"
          id="price"
          class="form-control"
          name="price"
          [(ngModel)]="unit.price"
          required
          min="0"
          step="0.01"
          placeholder="Enter price in USD"
        />
      </div>

      <!-- Submit Button -->
      <div class="d-flex justify-content-end">
        <button
          class="btn btn-primary"
          type="submit"
          [disabled]="!unitForm.form.valid"
        >
          Update Unit
        </button>
      </div>
    </form>

    <!-- Optional Success/Failure Message -->
    <div *ngIf="message" class="mt-3">
      <div
        [ngClass]="{
          'alert alert-success': messageType === 'success',
          'alert alert-danger': messageType === 'error'
        }"
      >
        {{ message }}
      </div>
    </div>
  </div>
